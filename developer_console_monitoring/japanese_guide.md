# Devin API モニタリングガイド

このドキュメントでは、Chrome Developer Console を使用して Devin API の操作を監視する方法について説明します。

## 前提条件

- Google Chrome ブラウザ
- Devin アプリケーションへのアクセス (https://app.devin.ai)
- HTTP リクエストとレスポンスの基本的な理解

## セットアップ手順

### 1. Devin アプリケーションを開く

1. Chrome で https://app.devin.ai にアクセスします
2. Devin アカウントにログインします

### 2. Developer Console を開く

1. F12 または Ctrl+Shift+I を押して Developer Tools を開きます
2. Network タブに移動します
3. "Preserve log" チェックボックスをオンにします
4. "Disable cache" チェックボックスをオンにします

### 3. ネットワークフィルターを適用する

1. フィルターボックスに `domain:api.devin.ai` と入力します
2. これにより、Devin API へのリクエストのみが表示されます

### 4. コンソールモニタリングをセットアップする

1. Console タブに移動します
2. `console_scripts/api_monitor.js` からモニタリングスクリプトをコピーして貼り付けます
3. Enter キーを押してスクリプトを実行します
4. モニターがアクティブであることを確認するメッセージが表示されます

### 5. 操作のキャプチャを開始する

1. Devin アプリケーションに戻ります
2. Devin との対話を開始します（セッションの作成、メッセージの送信など）
3. Network タブに切り替えてキャプチャされたリクエストを確認します
4. Console タブに切り替えて分析されたリクエストを確認します

## 特定の操作のモニタリング

### セッション作成

1. フィルター `url:sessions method:POST domain:api.devin.ai` を適用します
2. Devin で新しいセッションを作成します
3. リクエストとレスポンスを観察します

### メッセージ送信

1. フィルター `url:message method:POST domain:api.devin.ai` を適用します
2. 既存の Devin セッションでメッセージを送信します
3. リクエストとレスポンスを観察します

### ファイルアップロード

1. フィルター `url:attachments method:POST domain:api.devin.ai` を適用します
2. Devin でファイルをアップロードします
3. リクエストとレスポンスを観察します

## キャプチャしたデータの分析

### リクエスト分析

1. Network タブでリクエストをクリックします
2. Headers タブに移動してリクエストヘッダーを確認します
3. Payload タブに移動してリクエスト本文を確認します
4. Preview タブに移動してレスポンスのフォーマット済みバージョンを確認します

### レスポンス分析

1. Network タブでリクエストをクリックします
2. Response タブに移動して生のレスポンスを確認します
3. Preview タブに移動してレスポンスのフォーマット済みバージョンを確認します

### コンソールコマンドの使用

1. Console タブに移動します
2. `devinApi.analyze(requestId)` コマンドを使用して特定のリクエストを分析します
3. `devinApi.summarize()` コマンドを使用してキャプチャされたすべてのリクエストの概要を確認します

## さらなる分析のためのデータのエクスポート

### HAR としてエクスポート

1. Network タブで任意のリクエストを右クリックします
2. "Save all as HAR with content" を選択します
3. ファイルをコンピュータに保存します

### コンソールデータのエクスポート

1. Console タブに移動します
2. コンソール内で右クリックします
3. "Save as..." を選択してコンソール出力を保存します

## トラブルシューティング

### リクエストが表示されない

1. Devin アプリケーション上にいることを確認します
2. フィルターが正しく `domain:api.devin.ai` に設定されていることを確認します
3. ページを更新して "Preserve log" をチェックしてみてください

### コンソールスクリプトエラー

1. スクリプト全体をコピーしたことを確認します
2. コンソールにエラーメッセージがないか確認します
3. ページを更新してスクリプトを再実行してみてください

## 次のステップ

Devin API の操作をキャプチャして分析した後、以下のことができます：

1. API エンドポイントとそのパラメータを文書化する
2. リクエストとレスポンスの形式を分析する
3. API 使用のパターンを特定する
4. より詳細な分析のためのカスタムスクリプトを作成する
