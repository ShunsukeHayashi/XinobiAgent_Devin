# Enhanced Devin UI トラブルシューティングガイド

このガイドでは、Enhanced Devin UIを使用する際に発生する可能性のある一般的な問題の解決策を提供します。

## インストールの問題

### 問題：依存関係の不足

**症状：**
- UIを起動する際に、不足しているモジュールに関するエラーメッセージが表示される
- ImportErrorまたはModuleNotFoundError例外が発生する

**解決策：**
必要な依存関係を手動でインストールします：

```bash
pip install gradio==5.21.0
pip install aiohttp
pip install matplotlib
pip install numpy
pip install psutil
```

### 問題：バージョンの競合

**症状：**
- 互換性のないバージョンに関するエラーメッセージが表示される
- AttributeErrorまたはTypeError例外が発生する

**解決策：**
新しい仮想環境を作成し、依存関係の正確なバージョンをインストールします：

```bash
python -m venv fresh_venv
source fresh_venv/bin/activate  # Windowsの場合：fresh_venv\Scripts\activate
pip install gradio==5.21.0 aiohttp matplotlib numpy psutil
```

## 起動の問題

### 問題：ポートが既に使用中

**症状：**
- エラーメッセージ：「Address already in use」
- UIが起動しない

**解決策：**
別のポートを使用します：

```bash
python run_simple_gradio_ui.py --port 8080
```

### 問題：権限拒否

**症状：**
- エラーメッセージ：「Permission denied」
- UIが起動しない

**解決策：**
昇格した権限でコマンドを実行するか、1024より上のポート番号を選択します：

```bash
# Linux/Macの場合
sudo python run_simple_gradio_ui.py

# または、より高いポートを使用
python run_simple_gradio_ui.py --port 8080
```

## UIの問題

### 問題：UIが読み込まれない

**症状：**
- ブラウザに空白のページまたは読み込みスピナーが表示される
- コンソールにエラーメッセージが表示されない

**解決策：**
1. `http://localhost:7860`（または指定したポート）にアクセスして、UIが実行されているか確認します
2. 別のブラウザを試します
3. ブラウザのキャッシュとCookieをクリアします
4. `--debug`フラグを付けてUIを再起動し、より詳細なログを確認します：
   ```bash
   python run_simple_gradio_ui.py --debug
   ```

### 問題：セッション作成が失敗する

**症状：**
- セッションを作成する際にエラーメッセージが表示される
- セッションがドロップダウンに表示されない

**解決策：**
1. APIキーが正しく設定されているか確認します（実際のAPIを使用している場合）
2. UIを再起動します
3. エラーメッセージがないかログを確認します

### 問題：メッセージが送信されない

**症状：**
- メッセージがチャット履歴に表示されない
- エージェントからの応答がない

**解決策：**
1. セッションがアクティブかどうか確認します
2. 新しいセッションを作成してみます
3. エラーメッセージがないかログを確認します
4. UIを再起動します

## APIの問題

### 問題：APIキーが機能しない

**症状：**
- 認証に関するエラーメッセージが表示される
- APIリクエストが失敗する

**解決策：**
1. APIキーが正しく入力されているか確認します
2. APIキーを環境変数として設定してみます：
   ```bash
   export DEVIN_API_KEY=your_api_key_here
   ```
3. テスト目的では、APIキーなしでUIを使用できます（モックAPIクライアントが使用されます）

### 問題：APIリクエストがタイムアウトする

**症状：**
- タイムアウトに関するエラーメッセージが表示される
- メッセージを送信する際に長い遅延がある

**解決策：**
1. インターネット接続を確認します
2. 後でもう一度試します
3. テスト目的では、APIキーなしでUIを使用できます（モックAPIクライアントが使用されます）

## ファイルアップロードの問題

### 問題：ファイルアップロードが失敗する

**症状：**
- ファイルをアップロードする際にエラーメッセージが表示される
- ファイルがUIに表示されない

**解決策：**
1. ファイルサイズが制限内であるか確認します（通常は200MB）
2. より小さなファイルを試します
3. ファイル形式を確認します（テキストファイルはテストに最適です）

## 公開URLの問題

### 問題：公開URLが機能しない

**症状：**
- 公開URLが生成されない
- 公開URLにアクセスする際にエラーが発生する

**解決策：**
1. `--share`フラグを使用していることを確認します：
   ```bash
   python run_simple_gradio_ui.py --share
   ```
2. インターネット接続を確認します
3. 後でもう一度試します
4. 企業ネットワークを使用している場合は、アウトバウンド接続が許可されているか確認します

## 高度なトラブルシューティング

### ログの確認

より詳細なトラブルシューティングのために、ログを確認します：

```bash
python run_simple_gradio_ui.py --debug > ui_log.txt 2>&1
```

これにより、ログは`ui_log.txt`というファイルに保存されます。

### ネットワーク問題のデバッグ

ネットワーク問題が疑われる場合は、`curl`などのツールを使用してAPI接続をテストできます：

```bash
curl -v https://api.example.com/endpoint
```

### 問題の報告

このガイドでカバーされていない問題が発生した場合は、以下の情報を含めて報告してください：

1. 問題を再現する手順
2. エラーメッセージ（ある場合）
3. オペレーティングシステムとPythonのバージョン
4. `--debug`フラグを付けてUIを実行した際のログ

## 結論

Enhanced Devin UIの大部分の問題は、依存関係の確認、UIの再起動、または`--debug`フラグを使用してより多くの情報を取得することで解決できます。問題が続く場合は、上記の説明に従って報告してください。
